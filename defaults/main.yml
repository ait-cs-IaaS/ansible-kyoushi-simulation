---
# defaults file for kyoushi-simulation

kyoushi_user_name: "kyoushi"
kyoushi_user_group: "{{ kyoushi_user_name }}"

# The Access Token must be defined as GitAccessToken in the environmental variables.
# Alternatively, the access token can be passed in to the playbook: '-e git_access_token=XYZ'
git_access_token: "{{ lookup('env', 'GitAccessToken') }}"

kyoushi_base_path: /etc/kyoushi
kyoushi_sm_name: ait.horde_user

kyoushi_packages:
  - name: cr-kyoushi-simulation
    # version: 'latest' or e.g. '0.3.0'
    url: "https://__token__:{{ git_access_token }}@git-service.ait.ac.at/api/v4/projects/1822/packages/pypi/simple"
  - name: cr-kyoushi-statemachines
    # version: 'latest' or e.g. '0.1.0'
    url: "https://__token__:{{ git_access_token }}@git-service.ait.ac.at/api/v4/projects/1848/packages/pypi/simple"
  # In order to install further pip-packages, expand this list:
  # - name: e.g. 'numpy'
  #   version: 'latest' or e.g. 1.20.0

kyoushi_venv_path: "/opt/kyoushi/simulation/{{ kyoushi_sm_name }}"
kyoushi_venv_python_version: 3.8

kyoushi_statemachines_path: "{{ kyoushi_venv_path }}/lib/python{{kyoushi_venv_python_version}}/site-packages/cr_kyoushi/statemachines"

kyoushi_config_files:
  config:
    src: config.yml.j2
    dst: "{{ kyoushi_sim_config_path }}/config.yml"
  sm:
    src: sm.yml.j2
    dst: "{{ kyoushi_sim_config_path }}/sm.yml"
    deploy: "{{ kyoushi_simulation_sm_config is defined }}"

# -------------------------------------------
# *** Default sim config ***
# -------------------------------------------

kyoushi_sim_config_path: "{{ kyoushi_base_path }}/simulation/{{ kyoushi_sm_name }}"

# kyoushi_plugin_include_names: ['.*']
# kyoushi_plugin_exclude_names: []

# kyoushi_log_level: 'WARNING'
# kyoushi_log_timestamp:
#   format: 'e.g. %m/%d/%Y, %H:%M:%S'
#   utc: 'True'
#   key: 'timestamp'
# kyoushi_log_console:
#   enabled: 'yes'
#   format: 'colored'
# kyoushi_log_file:
#   enabled: 'yes'
#   format: 'json'
#   path: '/var/log/kyoushi/sm.log'

# kyoushi_seed: 1111111111


# -------------------------------------------
# *** Default state machine config ***
# -------------------------------------------

# kyoushi_simulation_sm_config:
#   cities:
#     Vienna: light rain
#     London: clear
#     Tokio: light rain
#     New York: snow
#   desired_weather: light rain


# -------------------------------------------
# *** Optional state machine python plugin ***
# -------------------------------------------

# kyoushi_sm_python_plugin_name: "example_plugin"
# kyoushi_sm_python_plugin:
#   - src: "{{ kyoushi_sm_python_plugin_name }}.py" # path to source file
#     dst: "{{ kyoushi_sim_config_path }}/{{ kyoushi_sm_python_plugin_name }}.py"
  # use list to add further files if required
